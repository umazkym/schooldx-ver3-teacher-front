name: Cleanup Old Artifacts

on:
  schedule:
    # 毎週日曜日の午前3時 (UTC) に実行します
    # 実行頻度は必要に応じて変更してください
    - cron: '0 3 * * 0'
  workflow_dispatch:
    # Actionsタブから手動でも実行できるようにします

jobs:
  delete-artifacts:
    runs-on: ubuntu-latest
    steps:
      - name: Delete old artifacts
        uses: kolpav/purge-artifacts-action@v1
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          # Delete artifacts older than 7 days
          expire-in: '7 days'